# إدارة الاعتماديات (Dependency Management)

## 1. مقدمة

لضمان بيئة تطوير متسقة ومنع التعارضات بين المكتبات، نعتمد استخدام البيئات الافتراضية (`venv`) وملف `requirements.txt` كمصدر وحيد للحقيقة. هذه العملية **إلزامية** لجميع المطورين.

---

## 2. إعداد البيئة الافتراضية (venv)

إذا كنت تبدأ العمل على المشروع لأول مرة، قم بإنشاء بيئة افتراضية:

```bash
# سيؤدي هذا إلى إنشاء مجلد venv في المشروع (تم تجاهله في .gitignore)
python -m venv venv
```

## 3. تفعيل البيئة

قبل بدء العمل أو تثبيت أي مكتبة، **يجب** تفعيل البيئة:

- **على Windows:**
  ```bash
  .\venv\Scripts\activate
  ```
- **على macOS/Linux:**
  ```bash
  source venv/bin/activate
  ```

## 4. إدارة ملف requirements.txt

### 4.1. تثبيت الاعتماديات

بعد تفعيل البيئة، قم بتثبيت جميع المكتبات المطلوبة باستخدام:
```bash
pip install -r requirements.txt
```

### 4.2. إضافة أو تحديث اعتمادية (عملية صارمة)

1.  **تأكد** من أن بيئتك الافتراضية مُفعّلة.
2.  قم بتثبيت المكتبة الجديدة: `pip install <package-name>` أو تحديثها: `pip install --upgrade <package-name>`.
3.  **اختبر المشروع بالكامل** للتأكد من أن التغيير لم يكسر أي وظيفة حالية.
4.  إذا سارت الأمور على ما يرام، قم بتجميد (Freeze) قائمة المكتبات المحدثة في ملف `requirements.txt`:
    ```bash
    pip freeze > requirements.txt
    ```
5.  قم بإضافة (`git add`) وتضمين (`git commit`) ملف `requirements.txt` المحدث مع تغييرات الكود الخاصة بك.